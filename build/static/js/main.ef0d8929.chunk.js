(this.webpackJsonpecommerce=this.webpackJsonpecommerce||[]).push([[0],{138:function(e,a,t){e.exports=t(332)},143:function(e,a,t){},144:function(e,a,t){e.exports=t.p+"static/media/logo.5d5d9eef.svg"},145:function(e,a,t){},149:function(e,a,t){},191:function(e,a,t){},331:function(e,a,t){},332:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(45),c=t.n(l),o=(t(143),t(144),t(145),t(146),t(10)),m=t(32),s=function(e,a){switch(a.type){case"SETLOADER":return Object(m.a)({},e,{isloader:a.value});case"SIGNIN":return Object(m.a)({},e,{isloggedIn:!0});default:throw new Error("Should not get there!")}},i=function(e,a){switch(a.type){case"SETUSER":return{currentuser:a.data};default:throw new Error("Should not get there!")}},u=Object(n.createContext)(),d={isloader:!1,isloggedIn:!1},E={currentuser:{}},p=function(e){var a=Object(n.useReducer)(s,d),t=Object(o.a)(a,2),l=t[0],c=t[1],m=Object(n.useReducer)(i,E),p=Object(o.a)(m,2),h=p[0],g=p[1];return r.a.createElement(u.Provider,{value:{userdata:h,dispatchuser:g,commondata:l,dispatchcommon:c}},e.children)},h=t(126),g=t(137),f=t(53),b=t(20),v=t(46),O=(t(149),t(334)),S=t(335),N=t(128),j=t(337),y=t(336),w=t(16),I=t(27),C=t.n(I),k=C.a.create({baseURL:"https://swapi.dev/api/"}),x=function(e){var a=Object(n.useState)({}),t=Object(o.a)(a,2),l=t[0],c=t[1],s=Object(n.useState)(""),i=Object(o.a)(s,2),d=i[0],E=i[1],p=Object(n.useContext)(u),h=p.dispatchcommon,g=p.dispatchuser,f=function(e){var a=e.target;E(""),c(Object(m.a)({},l,Object(v.a)({},a.name,a.value)))};return r.a.createElement(n.Fragment,null,r.a.createElement(O.a,{fluid:!0,className:"signinpage"},r.a.createElement(S.a,{className:"sign-logo-wrap"},r.a.createElement(N.a,{md:12},r.a.createElement(w.b,{className:"logo",to:"/",title:"Star Wars"},r.a.createElement("img",{style:{width:"120px"},src:"/images/logo.png",title:"Star Wars",alt:"Star Wars"})))),r.a.createElement("div",{className:"logincard"},r.a.createElement(N.a,{md:12,className:"loginCard_banner"},"Sign In As Star Wars Character"),r.a.createElement("div",{className:"formcontainer"},r.a.createElement("div",{className:"d-heading loginCard__heading"},"Login"),r.a.createElement(j.a,{onSubmit:function(a){return a.preventDefault(),h({type:"SETLOADER",value:!0}),void k("people?search=".concat(l.email)).then((function(a){h({type:"SETLOADER",value:!1});var t=a.data.results.filter((function(e){return e.name==l.email&&e.birth_year==l.password}));c({}),t.length>0?(g({type:"SETUSER",data:t}),h({type:"SIGNIN",value:!0}),sessionStorage.setItem("isLoggedIn",!0),e.history.push("/starwar/search")):E("Name and Birth does not match")}))},method:"post"},r.a.createElement(j.a.Group,{controlId:"formGridEmail"},r.a.createElement(j.a.Control,{onBlur:function(e){return f(e)},name:"email",required:!0,type:"text",placeholder:"Enter star war character name"})),r.a.createElement(j.a.Group,{controlId:"formGridPassword"},r.a.createElement(j.a.Control,{onBlur:function(e){return f(e)},name:"password",required:!0,type:"password",placeholder:"Birth year of character"})),""!=d&&r.a.createElement("p",null,r.a.createElement("span",{className:"error"},d)),r.a.createElement(y.a,{variant:"primary",className:"signBtn",type:"submit"},"Submit"))))))},D=(t(171),t(131)),B=t.n(D),W=t(48),F=function(e){var a=e.component,t=e.restricted,n=Object(W.a)(e,["component","restricted"]),l=sessionStorage.getItem("isLoggedIn");return r.a.createElement(b.b,Object.assign({},n,{render:function(e){return Boolean(l)&&t?r.a.createElement(b.a,{to:"/starwar/search"}):r.a.createElement(a,e)}}))},L=function(e){var a=Object(n.useContext)(u).commondata.isloader,t=a?"loadershow":"hidden",l=a?"":"hidden";return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"loaderWrap private ".concat(t," ")},r.a.createElement("div",{className:"loader ".concat(l)},r.a.createElement(B.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:5e8,visible:a}))),r.a.createElement(b.d,null,r.a.createElement(F,{restricted:!0,exact:!0,path:"/",component:x})))},R=(t(191),t(338)),G=t(339),T=function(e){var a="";return a=sessionStorage.getItem("isLoggedIn")?r.a.createElement("a",{className:"nav-link parentlink",onClick:function(a){!function(a){a.preventDefault(),sessionStorage.removeItem("isLoggedIn"),e.history.push("/")}(a)}},"Sign Out"):r.a.createElement(w.b,{className:"nav-link parentlink",to:"/sign-in"},"Sign In"),r.a.createElement(R.a,{bg:"light",expand:"lg"},r.a.createElement(O.a,{className:"topmenu",fluid:!0},r.a.createElement(R.a.Brand,{href:"/",className:"logo"},r.a.createElement("img",{style:{width:"120px"},src:"/images/logo.png",title:"Weaver",alt:"Weaver"})),r.a.createElement(R.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(R.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(G.a,{className:"mr-auto"}),r.a.createElement("div",{className:"mainmenu pull-right"},a))))},P=function(e){return r.a.createElement(O.a,{id:"headerContainer",fluid:!0},r.a.createElement("header",null,r.a.createElement(S.a,null),r.a.createElement(T,{history:e.history})))},A=(t(192),function(e){var a=e.component,t=Object(W.a)(e,["component"]),n=sessionStorage.getItem("isLoggedIn");return r.a.createElement(b.b,Object.assign({},t,{render:function(e){return!0===Boolean(n)?r.a.createElement(a,e):r.a.createElement(b.a,{to:"/"})}}))}),_=(t(331),r.a.memo((function(e){var a=e.planetsData,t=e.handleOnclick;if(a.length>0){var n=a.map((function(e,a){var n=e.name,l=e.url;e.population;return r.a.createElement("li",{key:a},r.a.createElement("a",{onClick:function(e){return t(e)},href:l,id:n},n))}));return r.a.createElement("ul",{className:"dropdownOption"},n)}return""}))),U=r.a.memo((function(e){var a=Object(n.useState)([]),t=Object(o.a)(a,2),l=t[0],c=t[1],m=Object(n.useState)(""),s=Object(o.a)(m,2),i=s[0],d=s[1],E=Object(n.useContext)(u);E.dispatchcommon,E.dispatchuser;return Object(n.useEffect)((function(){c([]),d(e.searchName)}),[e.planetDataEmpty,e.searchName]),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"searchForm"},r.a.createElement(N.a,{md:12,className:"searchForm_banner"},"Search ",r.a.createElement("span",null,"STARWARS")," Planets"),r.a.createElement(j.a,{className:"formforsearch",method:"post",onSubmit:function(e){return e.preventDefault()}},r.a.createElement(j.a.Group,{controlId:"formGroupPlanet"},r.a.createElement(j.a.Control,{type:"text",name:"planetname",placeholder:"Enter name to search",onChange:function(a){return function(a){a.preventDefault();var t=a.target.value;d(t),e.handleSeachChange(),k("planets?search=".concat(t)).then((function(e){var a=e.data.results;c(a)}))}(a)},value:i}))),r.a.createElement(_,{planetsData:l,handleOnclick:e.handleOnclick})))})),q=t(340),J=t(136),H=r.a.memo((function(e){var a=e.planetDetails;return Object(J.isEmpty)(a)?"":r.a.createElement(n.Fragment,null,r.a.createElement(O.a,{className:"cardcontainer"},r.a.createElement(q.a,null,r.a.createElement(q.a.Header,null,r.a.createElement("h4",null,"Information")),r.a.createElement(q.a.Body,null,r.a.createElement(q.a.Title,null,r.a.createElement("h5",null,a.name)),r.a.createElement(S.a,null,r.a.createElement(N.a,{md:3,className:"infolabel"},"Population"),r.a.createElement(N.a,{md:8,className:"infodetail"},a.population)),r.a.createElement(S.a,null,r.a.createElement(N.a,{md:3,className:"infolabel"},"Diameter"),r.a.createElement(N.a,{md:8,className:"infodetail"},a.diameter)),r.a.createElement(S.a,null,r.a.createElement(N.a,{md:3,className:"infolabel"},"Climate"),r.a.createElement(N.a,{md:8,className:"infodetail"},a.climate)),r.a.createElement(S.a,null,r.a.createElement(N.a,{md:3,className:"infolabel"},"Orbital Period"),r.a.createElement(N.a,{md:8,className:"infodetail"},a.orbital_period))))))})),$=r.a.memo((function(e){var a=Object(n.useState)({}),t=Object(o.a)(a,2),l=t[0],c=t[1],m=Object(n.useState)(),s=Object(o.a)(m,2),i=s[0],u=s[1],d=Object(n.useState)(""),E=Object(o.a)(d,2),p=E[0],h=E[1],g=Object(n.useCallback)((function(e){e.preventDefault();var a=e.target.id,t=e.target.href;t.replace("http","https"),C.a.get(t).then((function(e){var t=e.data;c(t),u([]),h(a)}))}),[]),f=Object(n.useCallback)((function(e){c({})}),[]);return r.a.createElement(n.Fragment,null,r.a.createElement(U,{handleOnclick:g,planetDataEmpty:i,searchName:p,handleSeachChange:f}),r.a.createElement(H,{planetDetails:l}))})),z=function(e){return r.a.createElement(n.Fragment,null,r.a.createElement(P,{history:e.history}),r.a.createElement(b.d,null,r.a.createElement(A,{exact:!0,path:"/starwar/search",component:$})))},K=function(){return r.a.createElement(O.a,{fluid:!0},r.a.createElement("img",{src:"/images/pagenotfound.jpg",title:"Star Wars",alt:"Star Wars"}))},M=t(8),Q=Object(M.a)();var V=function(e){return h.a.add(g.a,f.b,f.c,f.a),r.a.createElement(p,null,r.a.createElement(w.a,{history:Q},r.a.createElement(b.d,null,r.a.createElement(b.b,{exact:!0,path:"/",component:L}),r.a.createElement(b.b,{exact:!0,path:"/starwar/search",component:z,history:Q}),r.a.createElement(b.b,{path:"*"},r.a.createElement(K,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[138,1,2]]]);
//# sourceMappingURL=main.ef0d8929.chunk.js.map